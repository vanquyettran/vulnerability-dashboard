
function testString(sourcePath, exclude) {
    if (exclude.endsWith('*')) {
        return sourcePath.startsWith(exclude.slice(0, -1));
    }

    return sourcePath === exclude;
}

function testArray(sourcePath, exclude) {
    return exclude.some(item => testString(sourcePath, item));
}

function isExcluded(sourcePath, options) {
    if (!options.exclude) {
        return false;
    }

    if (typeof options.exclude === 'string') {
        return testString(sourcePath, options.exclude);
    }

    if (options.exclude instanceof Array) {
        return testArray(sourcePath, options.exclude);
    }

    return false;
}

module.exports = isExcluded;
