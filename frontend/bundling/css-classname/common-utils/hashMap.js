const uniqueClass = require('./uniqueClass');
const getModuleHashKey = require('./getModuleHashKey');
const hashMap = new Map();


function getValue(resourcePath, options) {
    let value = null;

    if (options.moduleHashClassPrefix) {
        const key = getModuleHashKey(resourcePath, options);

        if (key) {
            if (hashMap.has(key)) {
                value = hashMap.get(key);
            } else {
                value = uniqueClass(options.moduleHashClassPrefix);
                hashMap.set(key, value);
            }
        }
    }

    return value;
}


module.exports = {
    getValue
};
