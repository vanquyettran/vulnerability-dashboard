import {selectorFamily} from 'recoil';
import ICard from 'main/models/interfaces/ICard';
import IList from 'main/models/interfaces/IList';
import {cardData} from '../__internals/atoms';

export const filterableCards = selectorFamily<ICard[], {listId: IList['id']}>({
    key: 'store/filterableCards',
    get: param => ({get}) => {
        const data = get(cardData);
        return data.allIds.map(id => data.byId[id])
            .filter(card => card.listId === param.listId);
    },
});
