import {selectorFamily} from 'recoil';
import Card from 'main/models/interfaces/Card';
import List from 'main/models/interfaces/List';
import {cardData} from '../__internals/atoms';

export const filterableCards = selectorFamily<Card[], {listId: List['id']}>({
    key: 'filterableCards',
    get: param => ({get}) => {
        const data = get(cardData);
        return data.allIds.map(id => data.byId[id])
            .filter(card => card.listId === param.listId);
    },
});
