import {atom} from 'recoil';
import IEntity from 'main/models/interfaces/IEntity';
import {CardDataSource, EntityDataSource, ListDataSource, RepoDataSource} from 'main/store/interfaces';
import IRepo from 'main/models/interfaces/IRepo';
import IList from 'main/models/interfaces/IList';
import ICard from 'main/models/interfaces/ICard';

const createEmptyEntityData = <T extends IEntity>(): EntityDataSource<T> => ({
    byId: {},
    allIds: []
});

export const repoData = atom<RepoDataSource>({
    key: 'store/repoData',
    default: createEmptyEntityData<IRepo>()
});

export const listData = atom<ListDataSource>({
    key: 'store/listData',
    default: createEmptyEntityData<IList>()
});

export const cardData = atom<CardDataSource>({
    key: 'store/cardData',
    default: createEmptyEntityData<ICard>()
});
