import {atom} from 'recoil';
import Entity from 'main/models/interfaces/Entity';
import {CardDataSource, EntityDataSource, ListDataSource, RepoDataSource} from 'main/store/interfaces';
import Repo from 'main/models/interfaces/Repo';
import List from 'main/models/interfaces/List';
import Card from 'main/models/interfaces/Card';

const createEmptyEntityData = <T extends Entity>(): EntityDataSource<T> => ({
    byId: {},
    allIds: []
});

export const repoData = atom<RepoDataSource>({
    key: 'store/repoData',
    default: createEmptyEntityData<Repo>()
});

export const listData = atom<ListDataSource>({
    key: 'store/listData',
    default: createEmptyEntityData<List>()
});

export const cardData = atom<CardDataSource>({
    key: 'store/cardData',
    default: createEmptyEntityData<Card>()
});
