import AbstractParcel from "../AbstractParcel";
import ResponseResult from 'libs/http-request/ResponseResult';
import ResponseError from 'libs/http-request/ResponseError';
import ICard from 'main/interfaces/ICard';

export default class CardUpdateParcel extends AbstractParcel<ICard> {
    private readonly card: ICard;

    constructor(card: ICard) {
        super();

        this.card = card;

        this.setEndpoint(`api/card/${card.id}`);
        this.setRequestMethod('PUT');
        this.setRequestBody(JSON.stringify({
            id: card.id,
            text: card.text,
        }));
    }

    parseResponseError(response: any) {
        return new ResponseError(response?.message);
    }

    parseResponseResult(response: any) {
        return new ResponseResult(this.card);
    }
}
