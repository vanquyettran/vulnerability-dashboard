import AbstractParcel from "../AbstractParcel";
import ResponseResult from 'libs/http-request/ResponseResult';
import ResponseError from 'libs/http-request/ResponseError';
import IList from 'main/models/interfaces/IList';
import IRepo from 'main/models/interfaces/IRepo';

export default class ListReadParcel extends AbstractParcel<IList> {
    private readonly listId: IList['id'];
    private readonly repoId: IRepo['id'];

    constructor(listId: IList['id'], repoId: IRepo['id']) {
        super();

        this.listId = listId;
        this.repoId = repoId;

        this.setRequestMethod('GET');
        this.setEndpoint(`api/list/${listId}`);
    }

    parseResponseError(response: any) {
        return new ResponseError(response?.message);
    }

    parseResponseResult(response: any) {
        return new ResponseResult({
            id: response.id,
            title: response.title,
            repoId: this.repoId,
        });
    }
}
