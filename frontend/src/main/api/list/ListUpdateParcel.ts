import AbstractParcel from "../AbstractParcel";
import ResponseResult from 'libs/http-request/ResponseResult';
import ResponseError from 'libs/http-request/ResponseError';
import IList from 'main/interfaces/IList';

export default class ListUpdateParcel extends AbstractParcel<IList> {
    private readonly list: IList;

    constructor(list: IList) {
        super();

        this.list = list;

        this.setEndpoint(`api/list/${list.id}`);
        this.setRequestMethod('PUT');
        this.setRequestBody(JSON.stringify({
            id: list.id,
            title: list.title,
        }));
    }

    parseResponseError(response: any) {
        return new ResponseError(response?.message);
    }

    parseResponseResult(response: any) {
        if (!response) {
            return new ResponseResult(null, new ResponseError());
        }

        return new ResponseResult(this.list);
    }
}
