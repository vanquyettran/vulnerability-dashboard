import AbstractParcel from "../AbstractParcel";
import ResponseResult from 'libs/http-request/ResponseResult';
import ResponseError from 'libs/http-request/ResponseError';
import List from 'main/models/interfaces/List';

export default class ListDeleteParcel extends AbstractParcel<List> {
    private readonly list: List;

    constructor(list: List) {
        super();

        this.list = list;

        this.setRequestMethod('DELETE');
        this.setEndpoint(`api/list/${list.id}`);
        this.setRequestHeader('Content-Type', 'application/json');
    }

    parseResponseError(response: any, xhr: XMLHttpRequest) {
        return new ResponseError(response?.message, xhr.status);
    }

    parseResponseResult(response: any) {
        return new ResponseResult(this.list);
    }
}
