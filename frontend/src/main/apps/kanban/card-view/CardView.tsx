import './CardView.less';
import React, {Dispatch, SetStateAction} from 'react';
import ICard from 'main/models/interfaces/ICard';
import CardDeleteButton from '../card-delete-button/CardDeleteButton';
import __ from 'main/i18n';
import Button from 'uikit/components/button/Button';

export default function CardView(
    {
        card,
        setIsEditing,
        setSelectedCardId,
    }: {
        card: ICard,
        setIsEditing: Dispatch<SetStateAction<boolean>>,
        setSelectedCardId: Dispatch<SetStateAction<ICard['id'] | null>>,
    },
) {
    return (
        <div className="CardView">
            <div className="info">
                <div
                    className="text"
                    role="button"
                    onClick={() => {
                        setSelectedCardId(card.id);
                    }}
                    title={__('View details')}
                >
                    <div className="wrap">{card.text}</div>
                </div>
            </div>
            <div className="actions">
                <Button
                    iconOnly
                    icon="pencil"
                    title={__('Edit')}
                    appearance="text-neutral"
                    onClick={() => {
                        setIsEditing(true);
                    }}
                />
                <CardDeleteButton card={card}/>
            </div>
        </div>
    );
}
