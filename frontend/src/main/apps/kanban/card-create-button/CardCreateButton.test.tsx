import React from 'react';
import {render, waitFor} from '@testing-library/react';
import CardCreateButton from './CardCreateButton';
import userEvent from '@testing-library/user-event';
import __ from 'main/i18n';
import Dropdown from 'uikit/components/dropdown/Dropdown';

describe('<CardCreateButton/>', () => {
    it('display button', () => {
        const screen = render(
            <CardCreateButton
                listId="a"
            />,
        );

        const button = screen.getByText(__('Create new Card'));
        expect(button).toBeInTheDocument();
    });

    // it('click button', async () => {
    //     const screen = render(
    //         <CardCreateButton
    //             listId="a"
    //         />
    //     );
    //
    //     const button = screen.getByText(__('Create new Card'));
    //     userEvent.click(button);
    //
    //     await waitFor(() => {
    //         const el = screen.getByText(/hehe/);
    //         expect(el).toBeInTheDocument();
    //     });
    // });

    it('modal', () => {
        const screen = render(
            <Dropdown
                opener={document.body}
            >
                <span>hehe</span>
            </Dropdown>
        );

        const el = screen.getByText(/hehe/);
        expect(el).toBeInTheDocument();
    });
});
