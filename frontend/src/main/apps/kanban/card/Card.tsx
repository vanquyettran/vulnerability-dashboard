import './Card.less';
import React, {useState, Dispatch, SetStateAction} from 'react';
import ICard from 'main/models/interfaces/ICard';
import CardUpdateEditor from '../card-update-editor/CardUpdateEditor';
import CardView from 'main/apps/kanban/card-view/CardView';

export default function Card(
    {
        card,
        setSelectedCardId,
    }: {
        card: ICard,
        setSelectedCardId: Dispatch<SetStateAction<ICard['id'] | null>>
    },
) {
    const [isEditing, setIsEditing] = useState(false);

    return (
        <div className="Card">
            {!isEditing ? (
                <CardView
                    card={card}
                    setIsEditing={setIsEditing}
                    setSelectedCardId={setSelectedCardId}
                />
            ) : (
                <CardUpdateEditor
                    card={card}
                    onSuccess={() => {
                        setIsEditing(false);
                    }}
                    onCancel={() => {
                        setIsEditing(false);
                    }}
                />
            )}
        </div>
    );
}
