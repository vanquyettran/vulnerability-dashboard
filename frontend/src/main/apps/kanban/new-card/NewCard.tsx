import './NewCard.less';
import React, {useState} from 'react';
import __ from 'main/i18n';
import Button from 'uikit/components/button/Button';
import CardCreateEditor from '../card-create-editor/CardCreateEditor';
import IList from 'main/models/interfaces/IList';

export default function NewCard({listId}: {listId: IList['id']}) {
    const [isEditing, setIsEditing] = useState(false);

    return (
        <div className="NewCard">
            {!isEditing ? (
                <Button
                    title={__('Add new card')}
                    icon="plus"
                    appearance="text-primary"
                    align="start"
                    onClick={() => {
                        setIsEditing(true);
                    }}
                />
            ) : (
                <CardCreateEditor
                    listId={listId}
                    onSuccess={() => {
                        setIsEditing(false);
                    }}
                    onCancel={() => {
                        setIsEditing(false);
                    }}
                />
            )}
        </div>
    );
}
