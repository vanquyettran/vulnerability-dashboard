import './RepoView.less';
import React, {Dispatch, SetStateAction} from 'react';
import IRepo from 'main/models/interfaces/IRepo';
import {Link} from 'react-router-dom';
import routes from 'main/routing/routes';
import RepoDeleteButton from '../repo-delete-button/RepoDeleteButton';
import __ from 'main/i18n';
import Button from 'uikit/components/button/Button';

export default function RepoView(
    {
        repo,
        setIsEditing,
    }: {
        repo: IRepo,
        setIsEditing: Dispatch<SetStateAction<boolean>>,
    },
) {
    return (
        <div className="RepoView">
            <div className="info">
                <Link
                    className="name"
                    title={__('View details')}
                    to={routes.kanban.getUrl(repo.id)}
                >
                    <div className="wrap">
                        {repo.name}
                    </div>
                </Link>
            </div>
            <div className="actions">
                <Button
                    iconOnly
                    icon="pencil"
                    title={__('Edit')}
                    appearance="text-neutral"
                    onClick={() => {
                        setIsEditing(true);
                    }}
                />
                <RepoDeleteButton repo={repo}/>
            </div>
        </div>
    );
}
