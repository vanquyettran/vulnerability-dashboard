import React from 'react';
import {render} from '@testing-library/react';
import __ from 'main/i18n';
import userEvent from '@testing-library/user-event/dist';
import RepoPlaceholder from './RepoPlaceholder';

describe('<RepoPlaceholder/>', () => {
    const myRender = () => {
        const setIsEditing = jest.fn();

        const screen = render(
            <RepoPlaceholder
                setIsEditing={setIsEditing}
            />,
        );

        return {screen, setIsEditing};
    };

    it('clicks add button', () => {
        const {screen, setIsEditing} = myRender();

        const button = screen.getByText(__('Add new repo'));
        expect(button).toBeInTheDocument();

        userEvent.click(button);

        expect(setIsEditing).toBeCalled();
    });
});
