import './DashboardApp.less';
import * as React from 'react';
import RepoListParcel from 'main/api/repo/RepoListParcel';
import useAjaxData from 'main/hooks/useAjaxData';
import Spinner from 'uikit/components/spinner/Spinner';

export default function DashboardApp() {

    const [data, error, isLoading] = useAjaxData(new RepoListParcel(), []);

    return <div className="DashboardApp">
        <h1 className="title">Dashboard</h1>
        {
            isLoading &&
            <Spinner/>
        }
        {
            error !== null &&
            <div className="error">{error}</div>
        }
        {
            data !== null &&
            <div className="repos">
                {
                    data.map(repo => {
                        return (
                            <div className="repo" key={repo.id}>
                                {repo.name}
                            </div>
                        );
                    })
                }
            </div>
        }
    </div>;
}
