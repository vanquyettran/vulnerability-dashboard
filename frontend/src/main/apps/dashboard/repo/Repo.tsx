import './Repo.less';
import React, {memo, useState} from 'react';
import IRepo from 'main/models/interfaces/IRepo';
import RepoUpdateEditor from '../repo-update-editor/RepoUpdateEditor';
import RepoView from '../repo-view/RepoView';

export default memo(function Repo({repo}: {repo: IRepo}) {
    const [isEditing, setIsEditing] = useState(false);

    return (
        <div className="Repo">
            {!isEditing ? (
                <RepoView
                    repo={repo}
                    setIsEditing={setIsEditing}
                />
            ) : (
                <RepoUpdateEditor
                    repo={repo}
                    onSuccess={() => {
                        setIsEditing(false);
                    }}
                    onCancel={() => {
                        setIsEditing(false);
                    }}
                />
            )}
        </div>
    );
});
